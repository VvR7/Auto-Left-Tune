# Auto Left Tune 软件测试与质量保证报告

## 一、引言

Auto Left Tune 是一款基于Web的钢琴创作与演奏辅助软件，集成了 AI 智能生成左手伴奏、MIDI 编辑器、乐谱生成、MIDI播放等多个模块。本报告旨在系统性地说明本软件的测试计划、测试用例设计、缺陷跟踪机制及质量保证方法，以确保软件的质量与稳定性。

## 二、测试计划

### 2.1 测试目标

* **功能正确性验证**：确保软件各功能模块均符合《用户手册》和设计文档的功能描述，包括输入、处理、输出和用户交互行为的一致性。

* **关键路径保障**：重点验证AI伴奏生成、MIDI播放、乐谱生成、MIDI编辑器等核心功能的正确性与稳定性，避免关键业务链路出现中断或异常。

* **用户体验与易用性保障**：验证操作流程是否流畅、交互界面是否友好、错误提示是否清晰，确保用户能够顺畅使用软件并正确完成目标任务。

### 2.2 测试范围

✅ 功能测试模块：

* AI智能左手伴奏生成

* 可视化钢琴交互界面

* 乐谱生成与查看

* MIDI播放

* 钢琴卷帘

* 编辑历史管理器

✅ 不在测试范围：

* 第三方库的性能与稳定性

### 2.3 使用的测试类型

#### 2.3.1 按测试目标划分

* 功能性测试（是否满足目标功能需求）

* 界面兼容性测试（Chrome、Edge）

* 性能测试（AI生成、MIDI播放、MIDI编辑、乐谱生成与查看等）

* 回归测试（如：在编辑器中新增功能对其他已有功能的影响）

* 安全性测试（输入合法性、文件上传与导出、隐私保护）

#### 2.3.2 按测试阶段划分

- 单元测试（测试单独模块，如：PDF生成）

- 集成测试（如：MIDI上传与处理的集成测试）

- 系统测试（设计复杂的测试步骤，测试软件整体功能）

#### 2.3.3 按测试方法划分

- 黑盒测试

- 白盒测试

- 灰盒测试

### 2.4 时间安排

| 阶段     | 时间            | 任务内容          |
| ------ | ------------- | ------------- |
| 测试用例设计 | 6月23日 - 6月25日 | 编写与评审测试用例     |
| 功能测试   | 7月2日 - 7月3日   | 执行功能测试、记录缺陷   |
| 性能测试   | 7月3日 - 7月4日   | 播放器、AI处理性能测试  |
| 回归测试   | 7月4日 - 7月5日   | 修复验证+二轮测试     |
| 安全性测试  | 7月5日 - 7月6日   | 输入合法性+文件传入&导出 |
| 测试报告提交 | 7月6日          | 汇总测试结果、缺陷     |

### 2.5 风险与对策

| 风险         | 对策                  |
| ---------- | ------------------- |
| AI伴奏生成时间过长 | 限制生成序列长度，提示优化建议     |
| 用户无法正确操作   | 提供详细的用户引导、操作提示      |
| 播放卡顿       | 播放性能调优（倍速限制等）       |
| 编辑器卡顿      | 限制传入大型MIDI文件、支持文件截取 |

## 三、测试用例

### 3.1 示例测试用例 - 首页

| 编号          | 功能模块 | 测试标题         | 前置条件       | 测试步骤                                         | 测试数据       | 期望结果                               |
| ----------- | ---- | ------------ | ---------- | -------------------------------------------- | ---------- | ---------------------------------- |
| TC-HOME-001 | 首页   | 成功进入首页       | 无          | 打开软件首页                                       | 无          | 首页各模块、按钮加载正常，无错误信息                 |
| TC-HOME-002 | 首页   | 首页导航跳转 - 演奏区 | 无          | 点击首页导航栏“演奏”按钮                                | 无          | 成功跳转到演奏区页面                         |
| TC-HOME-003 | 首页   | 首页导航跳转 -创作区  | 无          | 点击首页导航栏“创作”按钮                                | 无          | 成功跳转到MIDI编辑器页面                     |
| TC-HOME-004 | 首页   | 乐谱查看         | 正确上传MIDI文件 | 点击首页导航栏“乐谱”按钮                                | 无          | 成功显示乐谱PDF                          |
| TC-HOME-005 | 首页   | 文件上传失败提示     | 无          | 点击上传，选择不支持的文件格式                              | 非法文件（.jpg） | 显示友好错误提示，不能提交                      |
| TC-HOME-006 | 首页   | 可视化钢琴        | 无          | 任意点击可视化钢琴的琴键                                 | 无          | 正确发出对应音高的琴声                        |
| TC-HOME-007 | 首页   | MIDI记录与生成    | 无          | 1. 点击开始记录  2. 弹奏可视化钢琴  3. 点击结束记录并查看生成的MIDI文件 | 无          | 正确生成弹奏的音乐相对应的MIDI文件，并且可在MIDI编辑器中编辑 |
| TC-HOME-008 | 首页   | MIDI播放       | 正确上传MIDI文件 | 1. 点击播放  2. 点击停止 3. 调整倍速、音量                  | 合法的MIDI文件  | 正确开始和暂停MIDI文件的播放，正确按照指定的倍速和音量播放    |

| 编号        | 功能模块   | 测试标题          | 前置条件       | 测试步骤                                 | 测试数据      | 期望结果                        |
| --------- | ------ | ------------- | ---------- | ------------------------------------ | --------- | --------------------------- |
| TC-AI-001 | AI伴奏生成 | 成功上传MIDI并生成伴奏 | 已登录        | 1. 上传合法MIDI  2. 点击“上传并生成”  3. 设置截取参数 | 正常MIDI文件  | 成功生成伴奏，显示乐谱                 |
| TC-AI-002 | AI伴奏生成 | 上传不合法MIDI提示错误 | 已登录        | 1. 上传空白或非法MIDI  2. 点击“上传并生成”         | 非法MIDI文件  | 系统提示错误，不生成伴奏                |
| TC-AI-003 | AI伴奏生成 | AI生成超时处理      | 已登录        | 1. 上传超大MIDI  2. 观察AI生成时间             | 大型MIDI文件  | 超时不崩溃，提示友好，允许重试             |
| TC-AI-004 | AI伴奏生成 | AI生成结果准确性验证   | 已登录且正确上传文件 | 1. 上传标准旋律MIDI  2. AI生成后试听            | 标准旋律MIDI  | 生成结果符合音乐逻辑，节奏和声部正确，左右手部分相协调 |
| TC-AI-005 | AI伴奏生成 | 导出AI生成的MIDI伴奏 | 已完成伴奏生成    | 1. 点击“导出MIDI”                        | AI生成的MIDI | 成功下载MIDI，文件可打开播放            |
| TC-AI-006 | AI伴奏生成 | 乐谱显示与伴奏一致性    | 已完成伴奏生成    | 1. 查看AI伴奏乐谱  2. 播放试听                 | AI生成MIDI  | 乐谱视觉显示与播放效果一致               |

### 3.2 示例测试用例 - 创作区

| 编号          | 功能模块    | 测试标题            | 前置条件                  | 测试步骤                                     | 测试数据      | 期望结果                   |
| ----------- | ------- | --------------- | --------------------- | ---------------------------------------- | --------- | ---------------------- |
| TC-MIDI-001 | MIDI编辑器 | 导入MIDI文件并正确显示音轨 | 已进入创作区                | 1. 上传MIDI文件  2. 查看卷帘钢琴画面                 | 正常MIDI文件  | 音轨正确显示，音符完整呈现          |
| TC-MIDI-002 | MIDI编辑器 | 显示/隐藏音轨功能       | 已加载含多音轨MIDI文件         | 1. 点击音轨显示控制按钮  2. 勾选/取消显示音轨              | 多音轨MIDI文件 | 指定音轨在卷帘中正确显示/隐藏        |
| TC-MIDI-003 | MIDI编辑器 | 拖动音符并保存         | 已加载MIDI文件             | 1. 拖动一个音符到新位置  2. 播放MIDI确认效果             | 任意音符      | 拖动后音符位置更新、播放效果正确       |
| TC-MIDI-004 | MIDI编辑器 | 右键修改音符起始时间和持续时间 | 已加载MIDI文件             | 1. 右键点击音符  2. 修改起始时间/持续时间并确认  3. 播放验证    | 任意音符      | 音符属性修改生效，播放无误          |
| TC-MIDI-005 | MIDI编辑器 | 删除音符            | 已加载MIDI文件             | 1. 右键点击音符  2. 点击删除                       | 任意音符      | 音符被删除，MIDI播放同步更新       |
| TC-MIDI-006 | MIDI编辑器 | 任意位置添加音符        | 已加载MIDI文件             | 1. 右键点击空白区域  2. 添加音符3. 播放验证              | 新增音符属性值   | 新音符正确显示，播放包含新音符        |
| TC-MIDI-007 | MIDI编辑器 | 音符拖拽对齐功能        | 已加载MIDI文件             | 1. 拖动音符  2. 放置在任意位置  3. 查看是否自动对齐音高       | 任意音符      | 音符自动对齐至最近音高            |
| TC-MIDI-008 | 编辑历史管理器 | 撤销与重做操作         | 已加载MIDI文件             | 1. 拖动/删除/新增/修改属性  2. 点击撤销  3. 点击重做       | 任意音符      | 撤销、重做正确恢复操作            |
| TC-MIDI-009 | 编辑历史管理器 | 恢复到历史记录保存点      | 已加载MIDI文件且已有保存点       | 1. 多次编辑音符  2. 点击恢复到保存点                   | 任意修改      | 状态恢复到指定保存点             |
| TC-MIDI-010 | MIDI编辑器 | 导出MIDI文件        | 已完成MIDI编辑             | 1. 点击导出按钮  2. 检查浏览器下载目录                  | 任意编辑结果    | MIDI文件成功导出，内容正确        |
| TC-MIDI-011 | MIDI编辑器 | 音高视窗功能          | 已加载MIDI文件             | 1. 滚动画布  2. 观察左侧音高视窗是否固定                 | 多音符MIDI   | 音高视窗始终固定、准确            |
| TC-MIDI-012 | MIDI编辑器 | 音符属性修改音高        | 已加载MIDI文件             | 1. 右键音符  2. 修改音高  3. 确认并播放               | 修改后的音高值   | 音符音高变化正确，播放正常          |
| TC-MIDI-013 | MIDI编辑器 | 播放MIDI          | 已加载MIDI文件             | 1. 点击播放键  2. 观察播放进度线变换                   | 播放进度      | 播放进度线的移动与卷帘的时间标注相一致    |
| TC-MIDI-014 | MIDI编辑器 | 重置              | 已加载MIDI文件且正在播放        | 1. 点击重置键  2. 观察视口和播放进度线变化                | 视口、播放进度   | 视口回到最左端、播放进度线消失并归零     |
| TC-MIDI-015 | 编辑历史管理器 | 恢复历史记录          | 已加载MIDI文件且已有一条以上的历史记录 | 1. 右键选中条目  2. 恢复历史记录  3. 观察卷帘变化  4. 播放验证 | 任意历史记录    | 卷帘变化，播放效果正确，被恢复的历史条目消失 |

### 3.3 示例测试用例 - 演奏区

| 编号          | 功能模块 | 测试标题          | 前置条件     | 测试步骤                                   | 测试数据          | 期望结果                |
| ----------- | ---- | ------------- | -------- | -------------------------------------- | ------------- | ------------------- |
| TC-PLAY-001 | 演奏区  | 成功进入演奏区页面     | 已登录      | 1. 点击导航栏“演奏”  2. 成功加载演奏区界面             | 无             | 页面正常加载，无报错          |
| TC-PLAY-002 | 演奏区  | 点击虚拟琴键发声      | 已进入演奏区   | 1. 点击任意虚拟琴键                            | 任意琴键          | 对应音符正确发声并有视觉反馈      |
| TC-PLAY-003 | 演奏区  | 使用键盘快捷键演奏     | 已进入演奏区   | 1. 按键盘“A S D F”等琴键绑定按键                 | 键盘映射按键        | 对应音符正确发声            |
| TC-PLAY-004 | 演奏区  | 开始录制并保存MIDI   | 已进入演奏区   | 1. 点击“录制”按钮  2. 演奏  3. 停止录制4. 导出MIDI文件 | 任意演奏片段        | 正确录制、导出MIDI成功       |
| TC-PLAY-005 | 演奏区  | 上传MIDI并播放     | 已进入演奏区   | 1. 点击“上传MIDI”  2. 选择MIDI文件  3. 点击“播放”  | 正常MIDI文件      | MIDI文件正确解析并播放，音符雨同步 |
| TC-PLAY-006 | 演奏区  | 暂停与继续播放       | 播放任意演奏示例 | 1. 点击“播放”  2. 点击“暂停”  3. 点击“播放”继续      | 任意MIDI        | 播放与暂停行为正确，进度记忆准确    |
| TC-PLAY-007 | 演奏区  | 键盘演奏与MIDI播放并存 | 已进入演奏区   | 1. 播放MIDI  2. 同时手动按虚拟键盘                | 任意MIDI + 手动弹奏 | 同时支持播放和手动演奏，声音无冲突   |
| TC-PLAY-008 | 演奏区  | 关闭演奏区返回首页     | 已进入演奏区   | 1. 点击“返回”或“Home”按钮                     | 无             | 返回首页成功，状态清空         |
| TC-PLAY-009 | 演奏区  | 查看“快速入门”的音乐信息 | 已进入演奏区   | 1. 点击任意“快速入门”的音乐条目                     | 无             | 成功展开音乐的键盘信息以及演奏技巧   |

## 四、缺陷跟踪

### 4.1 缺陷处理概况

* 缺陷来源：性能测试

* 缺陷总数：2个

* 剩余已知问题：0个严重问题，2个低优先级建议类问题

所有高优先级与影响主流程的缺陷均已修复并验证通过，当前版本无已知严重质量风险。

### 4.2 缺陷示例与改进

| 缺陷类别 | 示例           | 改进措施                       |
| ---- | ------------ | -------------------------- |
| 性能问题 | 大型MIDI文件播放卡顿 | 音符属性极其复杂，算法优化作用有限，建议限制文件大小 |
| 性能问题 | 首页大量渲染造成轻微卡顿 | 建议适当减少渲染规模                 |

### 4.3 持续质量保障

* 后续版本上线前，仍将持续执行回归测试，关注用户反馈并快速响应。

* 低优先级改进建议已列入后续优化计划。

## 五、质量保证方法

### 5.1 开发与测试规范

* 采用敏捷开发+迭代测试模式

* 所有功能开发需通过测试后方可上线

* 每次迭代前进行回归测试

### 5.2 自动化保障

- 计划引入 Cypress 进行UI自动化测试（重点测试播放、MIDI编辑、导出功能）

### 5.3 性能保障

* MIDI播放器性能测试：保证普通笔记本2倍速不卡顿

* AI生成并发压力测试：单用户生成时间小于60s

* MIDI编辑器性能测试：所有功能的响应时间均不超过1s

* 乐谱生成与查看测试：乐谱生成与打开的响应时间不超过3s

### 5.4 用户体验保障

* 核心功能点设置操作引导

* 提供详尽的用户手册、详细的错误提示以及常见问题文档

## 六、总结与展望

Auto Left Tune 软件功能丰富，技术难度高，当前测试工作重点聚焦在：

* 确保核心功能（AI生成、MIDI编辑、播放、PDF转换等）无重大缺陷

* 提升不同硬件环境下的性能与稳定性

* 完善用户操作体验与错误处理机制

后续将持续完善自动化测试体系、提升异常情况处理能力、收集用户反馈持续优化。
